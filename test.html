<!-- <!DOCTYPE html> -->
<html lang="zh-TW">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="format-detection" content="telephone=no">
    <meta name="Title" content="">
    <meta name="keywords" content="">
    <meta name="Description" content="">
    <title>test</title>
    <link rel="stylesheet" href="css/test.css" />
    
    <!--[if (lt IE 9) & (!IEMobile)]>
        <script src="js/html5shiv.min.js" type="text/javascript"></script>
        <script src="js/respond.js" type="text/javascript"></script>
    <!--<![endif]-->
</head>

<body>
    <div id="wrap">
        <section id="start"></section>
        <section id="go">
            <div class="box">
                <div class="menu">
                    <p>目錄1</p>
                    <p>目錄2</p>
                    <p>目錄3</p>
                    <p>目錄4</p>
                    <p>目錄5</p>
                    <p>目錄6</p>
                    <p>目錄7</p>
                    <p>目錄8</p>
                    <p>目錄9</p>
                    <p>目錄10</p>
                    <p>目錄11</p>
                    <p>目錄12</p>
                    <p>目錄13</p>
                    <p>目錄14</p>
                    <p>目錄15</p>
                    <p>目錄16</p>
                    <p>目錄17</p>
                    <p>目錄18</p>
                    <p>目錄19</p>
                    <p>目錄20</p>
                </div>
            </div>
            <div class="circle c1"></div>
            <div class="circle c2"></div>
            <div class="circle c3"></div>
            <div class="circle c4"></div>
        </section>
        <section id="go1">
            <div class="box">
                <div class="menu">
                    <p>目錄1</p>
                    <p>目錄2</p>
                    <p>目錄3</p>
                    <p>目錄4</p>
                    <p>目錄5</p>
                    <p>目錄6</p>
                    <p>目錄7</p>
                    <p>目錄8</p>
                    <p>目錄9</p>
                    <p>目錄10</p>
                    <p>目錄11</p>
                    <p>目錄12</p>
                    <p>目錄13</p>
                    <p>目錄14</p>
                    <p>目錄15</p>
                    <p>目錄16</p>
                    <p>目錄17</p>
                    <p>目錄18</p>
                    <p>目錄19</p>
                    <p>目錄20</p>
                </div>
            </div>
        </section>
        <section id="slide"></section>
        <section></section>
    </div>
</body>

</html>


<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/TweenMax.min.js"></script>
<script type="text/javascript" src="js/ScrollMagic.js"></script>
<script type="text/javascript" src="js/plugins/animation.gsap.js"></script>
<script type="text/javascript" src="js/plugins/debug.addIndicators.js"></script>
<script>
$(function(){

    $('#start').attr({'data-aa':5});

    var controller = new ScrollMagic.Controller();
    

    var menu1 = new TimelineMax()
        .add([
                // 箱子高 - 目錄高 = 需滑動的高度
                TweenMax.to("#go .menu", 1, {top: $("#go .box").height() - $("#go .menu").height()}),
            ]);
    var menu2 = new TimelineMax()
        .add([
                TweenMax.to("#go1 .menu", 1, {top: $("#go1 .box").height() - $("#go1 .menu").height()}),
            ]);
    TweenMax.set(".circle", {top:50});

    var circle = new TimelineMax()
        .add(TweenMax.staggerTo(".circle.c1, .circle.c2, .circle.c3, .circle.c4",1,{left:400},0.2))
   

    var startpin = new ScrollMagic.Scene({
        duration: 600,
        offset: $("#start").height()
    })
        .setPin("section#go")
        .addTo(controller);

    new ScrollMagic.Scene({
            duration: 600,   //現場應持續的滾動距離 $(window).height()/2
            offset: $("#start").height()    //滾動捲軸的offsetTop後 開始  //$("#go").offset().top
        })
        .setTween(menu1)
        .addTo(controller); 
    

    var startpin1 = new ScrollMagic.Scene({
        duration: 1000,
        offset: $('#go1').offset().top
    })
        .setPin("section#go1")
        .addTo(controller);

    new ScrollMagic.Scene({
        duration: 1000,   //現場應持續的滾動距離 $(window).height()/2
        offset: $('#go1').offset().top + 10  //滾動捲軸的offsetTop後 開始  //$("#go").offset().top
    })
    .setTween(menu2)
    .addTo(controller); 




});
</script>